(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(26),c=a.n(r),s=a(7),o=a(55),i=a(90),l=a(91),u=a(2),j="USER_LOGIN_REQUEST",d="USER_LOGIN_SUCCESS",b="USER_LOGIN_FAIL",p="USER_LOGOUT",O="USER_REGISTER_REQUEST",h="USER_REGISTER_SUCCESS",m="USER_REGISTER_FAIL",x="USER_REGISTER_RESET",f="USER_EMAIL_VERIFY_REQUEST",g="USER_EMAIL_VERIFY_SUCCESS",v="USER_EMAIL_VERIFY_FAIL",y="USER_PASSWORD_RESET_VERIFY_EMAIL_REQUEST",S="USER_PASSWORD_RESET_VERIFY_EMAIL_SUCCESS",E="USER_PASSWORD_RESET_VERIFY_EMAIL_FAIL",C="USER_PASSWORD_RESET_VERIFY_EMAIL_RESET",N="USER_PASSWORD_RESET_VERIFY_CODE_REQUEST",_="USER_PASSWORD_RESET_VERIFY_CODE_SUCCESS",w="USER_PASSWORD_RESET_VERIFY_CODE_FAIL",I="USER_PASSWORD_RESET_VERIFY_CODE_RESET",L="USER_PASSWORD_RESET_REQUEST",R="USER_PASSWORD_RESET_SUCCESS",A="USER_PASSWORD_RESET_VERIFY_CODE_FAIL",T="USER_PASSWORD_RESET_VERIFY_CODE_RESET",k="USER_DETAILS_RESET",D="CATALOG_LIST_REQUEST",F="CATALOG_LIST_SUCCESS",P="CATALOG_LIST_FAIL",G="CATALOG_LIST_RESET",U="CATALOG_LIST_REMOVE_ITEM",V="CATALOG_DETAILS_REQUEST",H="CATALOG_DETAILS_SUCCESS",Y="CATALOG_DETAILS_FAIL",M="CATALOG_DETAILS_RESET",B="CATALOG_DELETE_REQUEST",W="CATALOG_DELETE_SUCCESS",Q="CATALOG_DELETE_FAIL",z="CATALOG_DELETE_RESET",J="CATALOG_CREATE_REQUEST",q="CATALOG_CREATE_SUCCESS",K="CATALOG_CREATE_FAIL",X="CATALOG_CREATE_RESET",Z="CATALOG_UPDATE_REQUEST",$="CATALOG_UPDATE_SUCCESS",ee="CATALOG_UPDATE_FAIL",te="CATALOG_UPDATE_RESET",ae=Object(o.combineReducers)({catalogList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{catalogs:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0,catalogList:[]};case F:return{loading:!1,catalogs:t.payload.entries,page:t.payload.page,pageSize:t.payload.pageSize,total:t.payload.total,pages:t.payload.pages};case U:return Object(u.a)(Object(u.a)({},e),{},{catalogs:e.catalogs.filter((function(e){return e._id!==t.payload})),total:e.total-1});case P:return{loading:!1,error:t.payload};case G:return{catalogs:[]};default:return e}},catalogDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,catalog:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(u.a)({loading:!0},e);case H:return{loading:!1,catalog:t.payload};case Y:return{loading:!1,error:t.payload};case M:return{loading:!1,catalog:{}};default:return e}},catalogDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case W:return{loading:!1,success:!0};case Q:return{loading:!1,error:t.payload};case z:return{};default:return e}},catalogCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case q:return{loading:!1,success:!0,catalog:t.payload};case K:return{loading:!1,error:t.payload};case X:return{};default:return e}},catalogUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{catalog:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case $:return{loading:!1,success:!0,catalog:t.payload};case ee:return{loading:!1,error:t.payload};case te:return{catalog:{}};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case d:return{loading:!1,userInfo:t.payload};case b:return{loading:!1,error:t.payload};case p:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case h:return{loading:!1,userInfo:t.payload};case m:return{loading:!1,error:t.payload};case x:return{};default:return e}},userVerifyEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case g:return{loading:!1,userInfo:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},userPasswordResetVerifyEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case S:return{loading:!1,userInfo:t.payload};case E:return{loading:!1,error:t.payload};case C:return{};default:return e}},userPasswordResetVerifyCode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case _:return{loading:!1,userInfo:t.payload};case w:return{loading:!1,error:t.payload};case I:return{};default:return e}},userPasswordReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case R:return{loading:!1,userInfo:t.payload};case A:return{loading:!1,error:t.payload};case T:return{};default:return e}}}),ne={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},re=[i.a],ce=Object(o.createStore)(ae,ne,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,re))),se=(a(108),a(109),a(30)),oe=a(13),ie=a(154),le=a(144),ue=a(145),je=a(155),de=a(95),be=a(151),pe=a(22),Oe=a(8),he=a.n(Oe),me=a(14),xe=a(15),fe=a.n(xe),ge=function(e,t){return function(){var a=Object(me.a)(he.a.mark((function a(n){var r,c,s;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:f}),r={headers:{"Content-Type":"Application/json"}},a.next=5,fe.a.post("/api/users/verify/".concat(e,"/").concat(t),r);case 5:c=a.sent,s=c.data,n({type:g,payload:s}),n({type:d,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0.response),n({type:v,payload:a.t0.response&&a.t0.response.data?a.t0.response.data:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},ve=a.p+"static/media/logo192.8aa15967.png",ye=a(0),Se=function(){var e,t,a=Object(s.b)(),n=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(ye.jsx)("header",{children:Object(ye.jsx)(ie.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(ye.jsxs)(le.a,{children:[Object(ye.jsx)(pe.LinkContainer,{to:"/",children:Object(ye.jsxs)(ie.a.Brand,{children:[Object(ye.jsx)(ue.a,{src:ve,width:"60",fluid:!0}),"Master Catalog"]})}),Object(ye.jsx)(ie.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(ye.jsxs)(ie.a.Collapse,{id:"responsive-navbar-nav",children:[Object(ye.jsx)(je.a,{className:"me-auto"}),Object(ye.jsxs)(je.a,{children:[n&&Object(ye.jsx)(pe.LinkContainer,{to:"/create-catalog/",children:Object(ye.jsxs)(de.a,{children:[Object(ye.jsx)("i",{className:"fas fa-plus"})," \xa0 New Catalog"]})}),"\xa0",n?Object(ye.jsxs)(be.a,{title:null===n||void 0===n||null===(e=n.user)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.split(" ")[0].toUpperCase(),id:"username",children:[Object(ye.jsx)(pe.LinkContainer,{to:"/profile",children:Object(ye.jsx)(be.a.Item,{children:"Profile"})}),Object(ye.jsx)(be.a.Item,{onClick:function(){a((function(e){localStorage.removeItem("userInfo"),e({type:p}),e({type:k}),e({type:G}),e({type:M}),e({type:C}),e({type:I}),e({type:T})}))},children:"Logout"})]}):Object(ye.jsx)(pe.LinkContainer,{to:"/login",children:Object(ye.jsxs)(je.a.Link,{children:[Object(ye.jsx)("i",{className:"fas fa-user"})," Sign In"]})})]})]})]})})})},Ee=a(146),Ce=a(97),Ne=function(){return Object(ye.jsx)("footer",{children:Object(ye.jsx)(le.a,{children:Object(ye.jsx)(Ee.a,{children:Object(ye.jsx)(Ce.a,{className:"text-center py-3",children:"Copyright \xa9 NDUB IT"})})})})},_e=a(3),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";return function(){var l=Object(me.a)(he.a.mark((function l(u,j){var d,b,p,O,h;return he.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,u({type:D}),d=j(),b=d.userLogin.userInfo,p={headers:{"x-auth-token":b.token}},l.next=6,fe.a.get("/api/entries?pageNumber=".concat(e,"&pageSize=").concat(t,"&sortBy=").concat(a,"&order=").concat(n,"&entryNumber=").concat(r,"&author=").concat(c,"&title=").concat(s,"&comments=").concat(o,"&date=").concat(i),p);case 6:O=l.sent,h=O.data,u({type:F,payload:h}),l.next=14;break;case 11:l.prev=11,l.t0=l.catch(0),u({type:P,payload:l.t0.response&&l.t0.response.data?l.t0.response.data:l.t0.message});case 14:case"end":return l.stop()}}),l,null,[[0,11]])})));return function(e,t){return l.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(me.a)(he.a.mark((function t(a,n){var r,c,s,o,i;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),r=n(),c=r.userLogin.userInfo,s={headers:{"x-auth-token":c.token}},t.next=6,fe.a.get("/api/entries/".concat(e),s);case 6:o=t.sent,i=o.data,a({type:H,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Y,payload:t.t0.response&&t.t0.response.data?t.t0.response.data:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Le=function(e){return function(){var t=Object(me.a)(he.a.mark((function t(a,n){var r,c,s;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:B}),r=n(),c=r.userLogin.userInfo,s={headers:{"x-auth-token":c.token}},t.next=6,fe.a.delete("/api/entries/".concat(e),s);case 6:a({type:W}),a({type:U,payload:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:Q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},Re=a(29),Ae=a(157),Te=function(e){var t=e.pages,a=e.page,n=e.setPageNumber;return t>1&&Object(ye.jsx)(Ae.a,{children:Object(Re.a)(Array(t).keys()).map((function(e){return Object(ye.jsx)(Ae.a.Item,{active:e+1===a,onClick:function(){return n(e+1)},children:e+1})}))})},ke=a(147),De=a(150),Fe=a(158),Pe=function(e){var t=e.variant,a=e.children,r=e.permanent,c=Object(n.useState)(!1),s=Object(_e.a)(c,2),o=s[0],i=s[1];return r||setTimeout((function(){i(!0)}),5e3),Object(ye.jsx)(Fe.a,{hidden:o,variant:t,children:a})};Pe.defaultProps={variant:"info"};var Ge=Pe,Ue=function(e){var t=e.catalogs,a=Object(s.b)(),n=Object(s.c)((function(e){return e.catalogDelete})),r=n.loading,c=n.error;return Object(ye.jsxs)(ye.Fragment,{children:[c&&Object(ye.jsx)(Ge,{variant:"danger",children:c}),Object(ye.jsxs)(ke.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(ye.jsx)("thead",{children:Object(ye.jsxs)("tr",{children:[Object(ye.jsx)("th",{children:"Number"}),Object(ye.jsx)("th",{children:"Title"}),Object(ye.jsx)("th",{children:"Author"}),Object(ye.jsx)("th",{children:"Date"}),Object(ye.jsx)("th",{children:"Comments"}),Object(ye.jsx)("th",{className:"text-center",children:"Actions"})]})}),Object(ye.jsx)("tbody",{children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return Object(ye.jsxs)("tr",{children:[Object(ye.jsx)("td",{children:e.entryNumber}),Object(ye.jsx)("td",{children:e.title}),Object(ye.jsx)("td",{children:e.author}),Object(ye.jsx)("td",{children:Object(De.a)(new Date(e.date),"PP")}),Object(ye.jsx)("td",{children:e.comments.length>79?"".concat(e.comments.substring(0,80),"..."):e.comments.length>0?e.comments:Object(ye.jsx)("i",{children:"No Comments"})}),Object(ye.jsxs)("td",{style:{whiteSpace:"nowrap"},className:"text-center",children:[Object(ye.jsx)(pe.LinkContainer,{to:"/view-catalog/".concat(e._id),children:Object(ye.jsx)(de.a,{variant:"primary",className:"btn-sm",children:Object(ye.jsx)("i",{className:"fas fa-eye"})})}),"\xa0",Object(ye.jsx)(pe.LinkContainer,{to:"/edit-catalog/".concat(e._id),children:Object(ye.jsx)(de.a,{variant:"light",className:"btn-sm",children:Object(ye.jsx)("i",{className:"fas fa-edit"})})}),"\xa0",Object(ye.jsx)(de.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e._id,void(window.confirm("Are you sure?")&&a(Le(t)));var t},children:r?Object(ye.jsx)("i",{className:"fas fa-circle-notch fa-spin"}):Object(ye.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)})):Object(ye.jsx)("tr",{children:Object(ye.jsx)("td",{colSpan:"6",children:"No entries yet. Please add some entries."})})})]})]})},Ve=a(148),He=function(){return Object(ye.jsx)(Ve.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}})},Ye=a(152),Me=a(37),Be=a.n(Me),We=function(e){var t=e.entryNumber,a=e.title,r=e.author,c=e.date,s=e.comments,o=(e.sortBy,e.order,e.pageSize,e.setEntryNumber),i=e.setTitle,l=e.setAuthor,u=e.setDate,j=e.setComments,d=e.setSortBy,b=e.setOrder,p=e.setPageSize,O=e.submitHandler,h=Object(n.useRef)(null);return Object(ye.jsx)(Ye.a,{className:"mb-3",onSubmit:O,children:Object(ye.jsxs)(Ee.a,{className:"align-items-center",children:[Object(ye.jsxs)(Ce.a,{xs:"auto",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Number"}),Object(ye.jsx)(Ye.a.Control,{className:"mb-2",id:"inlineFormInput",type:"number",placeholder:"Number",value:t,onChange:function(e){return o(e.target.value)}})]}),Object(ye.jsxs)(Ce.a,{xs:"auto",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Title"}),Object(ye.jsx)(Ye.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Title",type:"text",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(ye.jsxs)(Ce.a,{xs:"auto",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Author"}),Object(ye.jsx)(Ye.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Author",type:"text",value:r,onChange:function(e){return l(e.target.value)}})]}),Object(ye.jsxs)(Ce.a,{xs:"auto",className:"p-1 mt-2",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Date"}),Object(ye.jsxs)("div",{className:"input-group mb-3",children:[Object(ye.jsx)(Be.a,{class:"form-control",style:{background:"#FFF"},options:{dateFormat:"m-d-Y"},value:c,onChange:function(e){return u(e)},ref:h,placeholder:"Select Date"}),Object(ye.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){var e;(null===h||void 0===h||null===(e=h.current)||void 0===e?void 0:e.flatpickr)&&h.current.flatpickr.open()},children:Object(ye.jsx)("i",{className:"far fa-calendar-alt"})}),Object(ye.jsx)("button",{className:"btn btn-outline-danger",type:"button",id:"button-addon2",onClick:function(){var e;(null===h||void 0===h||null===(e=h.current)||void 0===e?void 0:e.flatpickr)&&h.current.flatpickr.clear()},children:Object(ye.jsx)("i",{className:"fas fa-times"})})]})]}),Object(ye.jsxs)(Ce.a,{xs:"auto",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Comment"}),Object(ye.jsx)(Ye.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Comment",type:"text",value:s,onChange:function(e){return j(e.target.value)}})]}),Object(ye.jsx)(Ce.a,{xs:"auto",children:Object(ye.jsx)(de.a,{type:"submit",className:"mb-2",children:Object(ye.jsx)("i",{className:"fas fa-search"})})}),Object(ye.jsxs)(Ce.a,{xs:"auto",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Sort by"}),Object(ye.jsxs)(Ye.a.Select,{"aria-label":"Sort by",className:"mb-2",onChange:function(e){return d(e.target.value)},children:[Object(ye.jsx)("option",{children:"Sort by"}),Object(ye.jsx)("option",{value:"entryNumber",children:"Entry Number"}),Object(ye.jsx)("option",{value:"title",children:"Title"}),Object(ye.jsx)("option",{value:"author",children:"Author"}),Object(ye.jsx)("option",{value:"date",children:"Date"}),Object(ye.jsx)("option",{value:"comment",children:"Comment"})]})]}),Object(ye.jsx)(Ce.a,{xs:"auto",children:Object(ye.jsxs)(Ye.a.Select,{"aria-label":"Sort by",className:"mb-2",onChange:function(e){return b(e.target.value)},children:[Object(ye.jsx)("option",{children:"Order"}),Object(ye.jsx)("option",{value:"asc",children:"Ascending"}),Object(ye.jsx)("option",{value:"desc",children:"Descending"})]})}),Object(ye.jsxs)(Ce.a,{xs:"auto",children:[Object(ye.jsx)(Ye.a.Label,{htmlFor:"inlineFormInput",visuallyHidden:!0,children:"Show:"}),Object(ye.jsxs)(Ye.a.Select,{"aria-label":"Sort by",className:"mb-2",onChange:function(e){return p(e.target.value)},children:[Object(ye.jsx)("option",{value:"10",children:"10"}),Object(ye.jsx)("option",{value:"25",children:"25"}),Object(ye.jsx)("option",{value:"50",children:"50"}),Object(ye.jsx)("option",{value:"100",children:"100"})]})]})]})})},Qe=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(_e.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(_e.a)(i,2),u=l[0],j=l[1],d=Object(n.useState)(""),b=Object(_e.a)(d,2),p=b[0],O=b[1],h=Object(n.useState)(""),m=Object(_e.a)(h,2),x=m[0],f=m[1],g=Object(n.useState)(""),v=Object(_e.a)(g,2),y=v[0],S=v[1],E=Object(n.useState)(""),C=Object(_e.a)(E,2),N=C[0],_=C[1],w=Object(n.useState)(""),I=Object(_e.a)(w,2),L=I[0],R=I[1],A=Object(n.useState)(""),T=Object(_e.a)(A,2),k=T[0],D=T[1],F=Object(n.useState)(10),P=Object(_e.a)(F,2),G=P[0],U=P[1],V=Object(s.b)(),H=Object(s.c)((function(e){return e.userLogin})).userInfo,Y=Object(s.c)((function(e){return e.catalogList})),M=Y.loading,B=Y.error,W=Y.catalogs,Q=Y.page,J=Y.pages,q=Y.total,K=Object(s.c)((function(e){return e.catalogDelete})).success;Object(n.useEffect)((function(){H?(V({type:te}),V({type:X}),V({type:z}),V(we(k,G,N,L,c,p,u,y,x))):t.push("/login")}),[V,k,G,c,p,u,y,x,N,L,t,H]);return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsx)(We,{submitHandler:function(e){e.preventDefault(),V(we(k,G,N,L,c,p,u,y,x))},entryNumber:c,title:u,author:p,date:x,comments:y,sortBy:N,order:L,pageSize:G,setEntryNumber:o,setTitle:j,setAuthor:O,setDate:f,setComments:S,setSortBy:_,setOrder:R,setPageSize:U}),K&&Object(ye.jsx)(Ge,{children:"Entry Deleted"}),M&&Object(ye.jsx)(He,{}),B&&Object(ye.jsx)(Ge,{children:B}),Object(ye.jsx)(Ue,{catalogs:W}),Object(ye.jsx)(Te,{pages:J,page:Q,setPageNumber:D,className:"mb-3"}),q&&Object(ye.jsx)("small",{children:"".concat(q," results found")})]})},ze=a(156),Je=a(149),qe=function(e){e.location;var t=e.history,a=Object(n.useState)(""),r=Object(_e.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(_e.a)(i,2),u=l[0],p=l[1],O=Object(n.useState)(!1),h=Object(_e.a)(O,2),m=h[0],x=h[1],f=Object(s.b)(),g=Object(s.c)((function(e){return e.userLogin})),v=g.loading,y=g.error,S=g.userInfo;Object(n.useEffect)((function(){S&&t.push("/")}),[t,S]);return Object(ye.jsx)(Ee.a,{className:"mt-5",children:Object(ye.jsx)(Ce.a,{md:{span:4,offset:4},children:Object(ye.jsxs)(ze.a,{className:"p-4\r ",children:[Object(ye.jsx)("h1",{className:"mb-3",children:"Sign In"}),y&&Object(ye.jsx)(Ge,{variant:"danger",children:y}),v&&Object(ye.jsx)(He,{}),Object(ye.jsxs)(Ye.a,{onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var a=Object(me.a)(he.a.mark((function a(n){var r,c,s;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:j}),r={headers:{"Content-Type":"Application/json"}},a.next=5,fe.a.post("/api/auth",{email:e,password:t},r);case 5:c=a.sent,s=c.data,console.log(s),n({type:d,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:b,payload:a.t0.response&&a.t0.response.data?a.t0.response.data:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(c,u))},children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"email",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Email Address"}),Object(ye.jsx)(Ye.a.Control,{type:"email",placeholder:"Enter Email",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{as:Ce.a,controlId:"password",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Password"}),Object(ye.jsxs)(Je.a,{hasValidation:!0,children:[Object(ye.jsx)(Ye.a.Control,{type:m?"text":"password",placeholder:"Enter password",value:u,onChange:function(e){return p(e.target.value)},required:!0}),Object(ye.jsx)(de.a,{variant:"outline-secondary",onClick:function(e){return x(!m)},children:Object(ye.jsx)("i",{className:"fas fa-eye"})})]})]}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(ye.jsx)(Ee.a,{className:"py-3",children:Object(ye.jsxs)("span",{children:["New user? \xa0",Object(ye.jsx)(se.Link,{to:"/register",children:"Register"})," | Forgot password?"," ",Object(ye.jsx)(se.Link,{to:"/reset",children:"Reset"})]})})]})})})},Ke=(a(78),function(e){var t=e.history,a=Object(s.b)(),r=Object(n.useState)(""),c=Object(_e.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(_e.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),p=Object(_e.a)(b,2),O=p[0],h=p[1],m=Object(n.useState)(""),x=Object(_e.a)(m,2),f=x[0],g=x[1],v=Object(n.useState)(""),y=Object(_e.a)(v,2),S=y[0],E=y[1],C=Object(s.c)((function(e){return e.catalogCreate})),N=C.loading,_=C.error,w=C.success;Object(n.useEffect)((function(){w&&setTimeout((function(){t.push("/")}),1e3)}),[w,t]);var I=Object(n.useRef)(null);return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsxs)(Ye.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t,a,n,r){return function(){var c=Object(me.a)(he.a.mark((function c(s,o){var i,l,u,j,d;return he.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:J}),i=o(),l=i.userLogin.userInfo,u={headers:{"x-auth-token":l.token}},""===n&&(n=new Date),c.next=7,fe.a.post("/api/entries/",{entryNumber:e,title:t,author:a,date:n,comments:r},u);case 7:j=c.sent,d=j.data,s({type:q,payload:d}),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),s({type:K,payload:c.t0.response&&c.t0.response.data?c.t0.response.data:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e,t){return c.apply(this,arguments)}}()}(o,j,O,f,S))},className:"mb-3",children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"entryNumber",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Number"}),Object(ye.jsx)(Ye.a.Control,{type:"number",placeholder:"Enter entry number",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"title",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Title"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter title",value:j,onChange:function(e){return d(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"author",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Author"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter author",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(ye.jsx)(Ye.a.Group,{controlId:"date",children:Object(ye.jsx)(Ye.a.Label,{children:"Date"})}),Object(ye.jsxs)("div",{className:"input-group mb-3",children:[Object(ye.jsx)(Be.a,{class:"form-control",style:{background:"#FFF"},options:{dateFormat:"m-d-Y"},value:f,onChange:function(e){return g(new Date(e))},ref:I,placeholder:"Select date"}),Object(ye.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){var e;(null===I||void 0===I||null===(e=I.current)||void 0===e?void 0:e.flatpickr)&&I.current.flatpickr.open()},children:Object(ye.jsx)("i",{className:"far fa-calendar-alt"})})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"comments",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Comments"}),Object(ye.jsx)(Ye.a.Control,{as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},value:S,onChange:function(e){return E(e.target.value)}})]}),Object(ye.jsx)(pe.LinkContainer,{to:"/",style:{marginRight:"10px"},children:Object(ye.jsx)(de.a,{variant:"secondary",children:"Back"})}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",children:"Create"})]}),w&&Object(ye.jsx)(Ge,{children:"Entry created"}),_&&Object(ye.jsx)(Ge,{variant:"danger",children:_}),N&&Object(ye.jsx)(He,{})]})}),Xe=a(153),Ze=a(99),$e=function(e){var t=e.match,a=e.history,r=Object(s.b)(),c=Object(s.c)((function(e){return e.catalogDetails})),o=c.loading,i=c.error,l=c.catalog,u=Object(s.c)((function(e){return e.catalogUpdate})),j=u.loading,d=u.error,b=u.success,p=Object(s.c)((function(e){return e.catalogDelete})),O=p.loading,h=p.error,m=p.success,x=Object(n.useState)(""),f=Object(_e.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(""),S=Object(_e.a)(y,2),E=S[0],C=S[1],N=Object(n.useState)(""),_=Object(_e.a)(N,2),w=_[0],I=_[1],L=Object(n.useState)(""),R=Object(_e.a)(L,2),A=R[0],T=R[1],k=Object(n.useState)(""),D=Object(_e.a)(k,2),F=D[0],P=D[1];Object(n.useEffect)((function(){b||m?setTimeout((function(){a.push("/")}),1e3):l&&l.title&&l._id===t.params.id?(v(l.entryNumber),C(l.title),I(l.author),T(l.date),P(l.comments)):r(Ie(t.params.id))}),[r,l,t,b,a,m]);var G=Object(n.useRef)(null);return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsxs)(Ye.a,{onSubmit:function(e){e.preventDefault(),r(function(e,t,a,n,r,c){return function(){var s=Object(me.a)(he.a.mark((function s(o,i){var l,u,j,d,b;return he.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,o({type:Z}),l=i(),u=l.userLogin.userInfo,j={headers:{"x-auth-token":u.token}},""===r&&(r=new Date),s.next=7,fe.a.put("/api/entries/".concat(e),{entryNumber:t,title:a,author:n,date:r,comments:c},j);case 7:d=s.sent,b=d.data,o({type:$,payload:b}),o({type:H,payload:b}),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),o({type:ee,payload:s.t0.response&&s.t0.response.data?s.t0.response.data:s.t0.message});case 16:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(e,t){return s.apply(this,arguments)}}()}(l._id,g,E,w,A,F))},className:"mb-3",children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"entryNumber",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Number"})," ",Object(ye.jsx)(Xe.a,{placement:"bottom",size:"sm",overlay:Object(ye.jsxs)(Ze.a,{id:"popover-contained",children:[Object(ye.jsx)(Ze.a.Header,{as:"h3",children:"Entry number can't be changed"}),Object(ye.jsx)(Ze.a.Body,{children:"Made a mistake in entry number? Please delete this catalog and create a new one."})]}),children:Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter entry number",value:g,onChange:function(e){return v(e.target.value)},readOnly:!0})})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"title",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Title"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter title",value:E,onChange:function(e){return C(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"author",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Author"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter author",value:w,onChange:function(e){return I(e.target.value)}})]}),Object(ye.jsx)(Ye.a.Group,{controlId:"date",children:Object(ye.jsx)(Ye.a.Label,{children:"Date"})}),Object(ye.jsxs)("div",{className:"input-group mb-3",children:[Object(ye.jsx)(Be.a,{className:"form-control",style:{background:"#FFF"},options:{dateFormat:"m-d-Y"},value:A,onChange:function(e){return T(new Date(e))},ref:G,placeholder:"Select Date"}),Object(ye.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){var e;(null===G||void 0===G||null===(e=G.current)||void 0===e?void 0:e.flatpickr)&&G.current.flatpickr.open()},children:Object(ye.jsx)("i",{className:"far fa-calendar-alt"})})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"comments",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Comments"}),Object(ye.jsx)(Ye.a.Control,{as:"textarea",placeholder:"Leave a comment here",rows:Math.ceil(F.length/166),value:F,onChange:function(e){return P(e.target.value)}})]}),Object(ye.jsx)(de.a,{variant:"danger",onClick:function(){return e=l._id,void(window.confirm("Are you sure?")&&r(Le(e)));var e},style:{marginRight:"10px"},children:Object(ye.jsx)("i",{className:"fas fa-trash"})}),Object(ye.jsx)(pe.LinkContainer,{to:"/",style:{marginRight:"10px"},children:Object(ye.jsx)(de.a,{variant:"secondary",children:"Back"})}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",children:"Update"})]}),b&&Object(ye.jsx)(Ge,{children:"Entry updated"}),m&&Object(ye.jsx)(Ge,{children:"Entry deleted"}),d&&Object(ye.jsx)(Ge,{variant:"danger",children:d}),i&&Object(ye.jsx)(Ge,{variant:"danger",children:i}),h&&Object(ye.jsx)(Ge,{variant:"danger",children:h}),o&&Object(ye.jsx)(He,{}),j&&Object(ye.jsx)(He,{}),O&&Object(ye.jsx)(He,{})]})},et=function(e){var t=e.match,a=e.history,r=Object(s.b)(),c=Object(s.c)((function(e){return e.catalogDetails})),o=c.loading,i=c.error,l=c.catalog,u=Object(s.c)((function(e){return e.catalogDelete})),j=u.loading,d=u.error,b=u.success,p=Object(n.useState)(""),O=Object(_e.a)(p,2),h=O[0],m=O[1],x=Object(n.useState)(""),f=Object(_e.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(""),S=Object(_e.a)(y,2),E=S[0],C=S[1],N=Object(n.useState)(""),_=Object(_e.a)(N,2),w=_[0],I=_[1],L=Object(n.useState)(""),R=Object(_e.a)(L,2),A=R[0],T=R[1];Object(n.useEffect)((function(){b?setTimeout((function(){a.push("/")}),1e3):l&&l.title&&l._id.toString()===t.params.id?(m(l.entryNumber),v(l.title),C(l.author),I(new Date),T(l.comments)):r(Ie(t.params.id))}),[r,l,t,b,a]);var k=Object(n.useRef)(null);return Object(ye.jsxs)(ye.Fragment,{children:[i&&Object(ye.jsx)(Ge,{variant:"danger",children:i}),d&&Object(ye.jsx)(Ge,{variant:"danger",children:d}),b&&Object(ye.jsx)(Ge,{children:"Entry deleted"}),o&&Object(ye.jsx)(He,{}),j&&Object(ye.jsx)(He,{}),Object(ye.jsxs)(Ye.a,{onSubmit:function(e){e.preventDefault()},children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"entryNumber",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Number"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter entry number",value:h,readOnly:!0})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"title",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Title"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter title",value:g,readOnly:!0})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"author",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Author"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter author",value:E,readOnly:!0})]}),Object(ye.jsx)(Ye.a.Group,{controlId:"date",children:Object(ye.jsx)(Ye.a.Label,{children:"Date"})}),Object(ye.jsxs)("div",{className:"input-group mb-3",children:[Object(ye.jsx)(Be.a,{className:"form-control",style:{background:"#E9ECEF"},options:{dateFormat:"m-d-Y"},value:w,ref:k,placeholder:"Select Date",disabled:!0}),Object(ye.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",disabled:!0,children:Object(ye.jsx)("i",{className:"far fa-calendar-alt"})})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"comments",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Comments"}),Object(ye.jsx)(Ye.a.Control,{as:"textarea",rows:Math.ceil(A.length/166),placeholder:"Leave a comment here",value:A,readOnly:!0})]}),Object(ye.jsx)(de.a,{variant:"danger",onClick:function(){return e=l._id,void(window.confirm("Are you sure?")&&r(Le(e)));var e},style:{marginRight:"10px"},children:Object(ye.jsx)("i",{className:"fas fa-trash"})}),Object(ye.jsx)(pe.LinkContainer,{to:"/",style:{marginRight:"10px"},children:Object(ye.jsx)(de.a,{variant:"secondary",children:"Back"})}),Object(ye.jsx)(pe.LinkContainer,{to:"/edit-catalog/".concat(l._id),children:Object(ye.jsx)(de.a,{variant:"primary",children:"Edit"})})]})]})},tt=function(e){var t=e.children;return Object(ye.jsx)(le.a,{children:Object(ye.jsx)(Ee.a,{className:"justify-content-md-center",children:Object(ye.jsx)(Ce.a,{xs:12,md:6,children:t})})})},at=function(e){var t=e.name,a=e.email,n=e.password,r=e.confirmPassword,c=e.showPass,s=e.setName,o=e.setEmail,i=e.setPassword,l=e.setConfirmPassword,u=e.setShowPass,j=e.submitHandler;return Object(ye.jsxs)(tt,{className:"mt-5",children:[Object(ye.jsx)("h1",{className:"mb-3",children:"Register"}),Object(ye.jsxs)(Ye.a,{onSubmit:j,children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"name",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Name"}),Object(ye.jsx)(Ye.a.Control,{type:"text",placeholder:"Enter your full name",value:t,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"email",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Email Address"}),Object(ye.jsx)(Ye.a.Control,{type:"email",placeholder:"Enter your email address",value:a,onChange:function(e){return o(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"password",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Password"}),Object(ye.jsx)(Ye.a.Control,{type:c?"text":"password",placeholder:"Enter your desired password",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"confirmPassword",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Confirm Password"}),Object(ye.jsx)(Ye.a.Control,{type:c?"text":"password",placeholder:"Re-enter password",value:r,onChange:function(e){return l(e.target.value)}})]}),Object(ye.jsx)(Ye.a.Group,{className:"mb-3",controlId:"showPassword",children:Object(ye.jsx)(Ye.a.Check,{type:"checkbox",label:"Show password",onClick:function(){return u(!c)}})}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(ye.jsx)(Ee.a,{className:"py-3",children:Object(ye.jsxs)(Ce.a,{children:["Have an account? \xa0",Object(ye.jsx)(se.Link,{to:"/login",children:"Login"})]})})]})},nt=function(e){var t=e.email,a=e.verificationCode,n=e.setVerificationCode,r=e.verificationCodeSubmitHandler,c=e.prevStep;return Object(ye.jsx)(Ee.a,{className:"mt-5",children:Object(ye.jsx)(Ce.a,{md:{span:4,offset:4},children:Object(ye.jsxs)(ze.a,{className:"p-4\r ",children:[Object(ye.jsx)("h1",{className:"mb-3",children:"Verify Email"}),Object(ye.jsxs)(Ye.a,{onSubmit:r,children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"email",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Verification Code"}),Object(ye.jsx)(Ye.a.Control,{type:"number",placeholder:"Enter Verification Code",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",className:"mb-3",children:"Submit"}),Object(ye.jsx)("br",{}),Object(ye.jsxs)("small",{children:["A verification code was sent to your email ",Object(ye.jsx)("mark",{children:t})]}),Object(ye.jsx)("br",{}),Object(ye.jsx)(de.a,{variant:"link",onClick:function(e){return c(e)},size:"sm",className:"p-0",children:"Change Email"})]})]})})})},rt=function(e){e.location;var t=e.history,a=Object(n.useState)(""),r=Object(_e.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(_e.a)(i,2),u=l[0],j=l[1],d=Object(n.useState)(""),b=Object(_e.a)(d,2),p=b[0],x=b[1],f=Object(n.useState)(""),g=Object(_e.a)(f,2),v=g[0],y=g[1],S=Object(n.useState)(null),E=Object(_e.a)(S,2),C=E[0],N=E[1],_=Object(n.useState)(!1),w=Object(_e.a)(_,2),I=w[0],L=w[1],R=Object(n.useState)(null),A=Object(_e.a)(R,2),T=A[0],k=A[1],D=Object(n.useState)(1),F=Object(_e.a)(D,2),P=F[0],G=F[1],U=Object(s.b)(),V=Object(s.c)((function(e){return e.userRegister})),H=V.loading,Y=V.error,M=V.userInfo,B=Object(s.c)((function(e){return e.userVerifyEmail})),W=B.loading,Q=B.error,z=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){z&&t.push("/")}),[t,M,z]);var J=function(){G(P+1)};return Object(ye.jsxs)(ye.Fragment,{children:[T&&Object(ye.jsx)(Ge,{variant:"danger",children:T}),Y&&Object(ye.jsx)(Ge,{variant:"danger",children:Y}),Q&&Object(ye.jsx)(Ge,{variant:"danger",children:Q}),H&&Object(ye.jsx)(He,{}),W&&Object(ye.jsx)(He,{}),1===P&&Object(ye.jsx)(at,{name:c,email:u,password:p,confirmPassword:v,showPass:I,setName:o,setEmail:j,setPassword:x,setConfirmPassword:y,setShowPass:L,submitHandler:function(e){e.preventDefault(),p!==v?(k("Passwords do not match"),setTimeout((function(){k("")}),3e3)):U(function(e,t,a,n){return function(){var r=Object(me.a)(he.a.mark((function r(c){var s,o,i;return he.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:O}),s={headers:{"Content-Type":"Application/json"}},r.next=5,fe.a.post("/api/users/",{name:e,email:t,password:a},s);case 5:o=r.sent,i=o.data,c({type:h,payload:i}),c(n),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0.response),c({type:m,payload:r.t0.response&&r.t0.response.data?r.t0.response.data:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(c,u,p,J))}}),2===P&&Object(ye.jsx)(nt,{email:u,verificationCode:C,setVerificationCode:N,verificationCodeSubmitHandler:function(e){e.preventDefault(),U(ge(M.user._id,C))},prevStep:function(e){e.preventDefault(),G(P-1)}})]})},ct=function(e){var t=e.match,a=e.history,r=Object(s.b)(),c=t.params.id,o=t.params.code,i=Object(s.c)((function(e){return e.userVerifyEmail})),l=i.loading,u=i.error,j=i.userInfo,d=Object(s.c)((function(e){return e.userLogin})),b=(d.loading,d.error,d.userInfo);return Object(n.useEffect)((function(){j||b?a.push("/"):r(ge(c,o))}),[a,j,c,o,r]),Object(ye.jsxs)(ye.Fragment,{children:[u&&Object(ye.jsx)(Ge,{variant:"danger",children:u}),l&&Object(ye.jsx)(He,{}),Object(ye.jsx)(tt,{className:"mt-5",children:Object(ye.jsx)("h2",{className:"mb-3",children:"Please wait while your email is being verified"})})]})},st=function(e){var t=e.match,a=e.history,r=Object(s.b)(),c=t.params.id,o=t.params.code,i=Object(s.c)((function(e){return e.userVerifyEmail})),l=i.loading,u=i.error,j=i.userInfo,d=Object(s.c)((function(e){return e.userLogin})),b=(d.loading,d.error,d.userInfo);return Object(n.useEffect)((function(){j||b?a.push("/"):r(ge(c,o))}),[a,j,c,o,r]),Object(ye.jsxs)(ye.Fragment,{children:[u&&Object(ye.jsx)(Ge,{variant:"danger",children:u}),l&&Object(ye.jsx)(He,{}),Object(ye.jsx)(tt,{className:"mt-5",children:Object(ye.jsx)("h2",{className:"mb-3",children:"Please wait while your email is being verified"})})]})},ot=a(4),it=["component"],lt=function(e){var t=e.component,a=Object(ot.a)(e,it),n=Object(s.c)((function(e){return e.userLogin})),r=n.userInfo,c=n.loading;return Object(ye.jsx)(oe.d,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return r||c?Object(ye.jsx)(t,Object(u.a)({},e)):Object(ye.jsx)(oe.c,{to:"/login"})}}))},ut=function(e){var t=e.email,a=e.setEmail,n=e.emailSubmitHandler;e.prevStep;return Object(ye.jsx)(Ee.a,{className:"mt-5",children:Object(ye.jsx)(Ce.a,{md:{span:4,offset:4},children:Object(ye.jsxs)(ze.a,{className:"p-4\r ",children:[Object(ye.jsx)("h1",{className:"mb-3",children:"Verify Email"}),Object(ye.jsxs)(Ye.a,{onSubmit:n,children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"email",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Email"}),Object(ye.jsx)(Ye.a.Control,{type:"email",placeholder:"Enter Your Email",value:t,onChange:function(e){return a(e.target.value)}})]}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",className:"mb-3",children:"Submit"})]})]})})})},jt=function(e){var t=e.email,a=e.verificationCode,n=e.setVerificationCode,r=e.verificationCodeSubmitHandler,c=e.prevStep;return Object(ye.jsx)(Ee.a,{className:"mt-5",children:Object(ye.jsx)(Ce.a,{md:{span:4,offset:4},children:Object(ye.jsxs)(ze.a,{className:"p-4\r ",children:[Object(ye.jsx)("h1",{className:"mb-3",children:"Verify Email"}),Object(ye.jsxs)(Ye.a,{onSubmit:r,children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"email",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Verification Code"}),Object(ye.jsx)(Ye.a.Control,{type:"number",placeholder:"Enter Verification Code",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",className:"mb-3",children:"Submit"}),Object(ye.jsx)("br",{}),Object(ye.jsxs)("small",{children:["A verification code was sent to your email ",Object(ye.jsx)("mark",{children:t})]}),Object(ye.jsx)("br",{}),Object(ye.jsx)(de.a,{variant:"link",onClick:function(e){return c(e)},size:"sm",className:"p-0",children:"Change Email"})]})]})})})},dt=function(e){var t=e.password,a=e.confirmPassword,n=e.setPassword,r=e.setConfirmPassword,c=e.showPass,s=e.setShowPass,o=e.submitHandler;e.prevStep;return Object(ye.jsx)(Ee.a,{className:"mt-5",children:Object(ye.jsx)(Ce.a,{md:{span:4,offset:4},children:Object(ye.jsxs)(ze.a,{className:"p-4\r ",children:[Object(ye.jsx)("h1",{className:"mb-3",children:"Set Password"}),Object(ye.jsxs)(Ye.a,{onSubmit:o,children:[Object(ye.jsxs)(Ye.a.Group,{controlId:"password",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Password"}),Object(ye.jsx)(Ye.a.Control,{type:c?"text":"password",placeholder:"Enter your desired password",value:t,onChange:function(e){return n(e.target.value)}})]}),Object(ye.jsxs)(Ye.a.Group,{controlId:"confirm-password",className:"mb-3",children:[Object(ye.jsx)(Ye.a.Label,{children:"Confirm Password"}),Object(ye.jsx)(Ye.a.Control,{type:c?"text":"password",placeholder:"Enter password again",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(ye.jsx)(Ye.a.Group,{className:"mb-3",controlId:"showPassword",children:Object(ye.jsx)(Ye.a.Check,{type:"checkbox",label:"Show password",onClick:function(){return s(!c)}})}),Object(ye.jsx)(de.a,{type:"submit",variant:"primary",className:"mb-3",children:"Submit"})]})]})})})},bt=function(e){e.location;var t=e.history,a=Object(n.useState)(""),r=Object(_e.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(_e.a)(i,2),u=l[0],j=l[1],b=Object(n.useState)(""),p=Object(_e.a)(b,2),O=p[0],h=p[1],m=Object(n.useState)(null),x=Object(_e.a)(m,2),f=x[0],g=x[1],v=Object(n.useState)(!1),C=Object(_e.a)(v,2),I=C[0],T=C[1],k=Object(n.useState)(null),D=Object(_e.a)(k,2),F=D[0],P=D[1],G=Object(n.useState)(1),U=Object(_e.a)(G,2),V=U[0],H=U[1],Y=Object(s.b)(),M=Object(s.c)((function(e){return e.userPasswordResetVerifyEmail})),B=M.loading,W=M.error,Q=M.userInfo,z=Object(s.c)((function(e){return e.userPasswordResetVerifyCode})),J=z.loading,q=z.error,K=Object(s.c)((function(e){return e.userPasswordReset})),X=K.loading,Z=K.error,$=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){$&&t.push("/")}),[t,Q,$]);var ee=function(){H(V+1)},te=function(e){e.preventDefault(),H(V-1)};return Object(ye.jsxs)(ye.Fragment,{children:[F&&Object(ye.jsx)(Ge,{variant:"danger",children:F}),W&&Object(ye.jsx)(Ge,{variant:"danger",children:W}),q&&Object(ye.jsx)(Ge,{variant:"danger",children:q}),Z&&Object(ye.jsx)(Ge,{variant:"danger",children:Z}),B&&Object(ye.jsx)(He,{}),J&&Object(ye.jsx)(He,{}),X&&Object(ye.jsx)(He,{}),1===V&&Object(ye.jsx)(ut,{email:c,setEmail:o,emailSubmitHandler:function(e){e.preventDefault(),Y(function(e,t){return function(){var a=Object(me.a)(he.a.mark((function a(n){var r,c,s;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:y}),r={headers:{"Content-Type":"Application/json"}},a.next=5,fe.a.post("/api/users/send-reset-code",{email:e},r);case 5:c=a.sent,s=c.data,n({type:S,payload:s}),n(t),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0.response),n({type:E,payload:a.t0.response&&a.t0.response.data?a.t0.response.data:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(c,ee))}}),2===V&&Object(ye.jsx)(jt,{email:c,verificationCode:f,setVerificationCode:g,verificationCodeSubmitHandler:function(e){e.preventDefault(),Y(function(e,t,a){return function(){var n=Object(me.a)(he.a.mark((function n(r){var c,s,o;return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:N}),c={headers:{"Content-Type":"Application/json"}},n.next=5,fe.a.post("/api/users/verify/".concat(e,"/").concat(t),c);case 5:s=n.sent,o=s.data,r({type:_,payload:o}),r(a),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0.response),r({type:w,payload:n.t0.response&&n.t0.response.data?n.t0.response.data:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(Q.user._id,f,ee))},prevStep:te}),3===V&&Object(ye.jsx)(dt,{password:u,confirmPassword:O,setPassword:j,setConfirmPassword:h,showPass:I,setShowPass:T,submitHandler:function(e){e.preventDefault(),u!==O?(P("Passwords do not match"),setTimeout((function(){P("")}),3e3)):Y(function(e,t){return function(){var a=Object(me.a)(he.a.mark((function a(n){var r,c,s;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:L}),r={headers:{"Content-Type":"Application/json"}},a.next=5,fe.a.post("/api/users/reset/".concat(e),{password:t},r);case 5:c=a.sent,s=c.data,n({type:R,payload:s}),n({type:d,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0.response),n({type:A,payload:a.t0.response&&a.t0.response.data?a.t0.response.data:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(Q.user._id,u))},prevStep:te})]})},pt=function(){return Object(ye.jsxs)(se.BrowserRouter,{children:[Object(ye.jsx)(Se,{}),Object(ye.jsx)("main",{className:"py-3",children:Object(ye.jsxs)(le.a,{children:[Object(ye.jsx)(lt,{exact:!0,path:"/",component:Qe}),Object(ye.jsx)(lt,{path:"/create-catalog",component:Ke}),Object(ye.jsx)(lt,{path:"/edit-catalog/:id",component:$e}),Object(ye.jsx)(lt,{path:"/view-catalog/:id",component:et}),Object(ye.jsx)(oe.d,{path:"/login",component:qe}),Object(ye.jsx)(oe.d,{path:"/register",component:rt}),Object(ye.jsx)(oe.d,{path:"/verify/:id/:code",component:ct,exact:!0}),Object(ye.jsx)(oe.d,{path:"/reset-verify/:id/:code",component:st,exact:!0}),Object(ye.jsx)(oe.d,{path:"/reset",component:bt,exact:!0}),Object(ye.jsx)(oe.d,{path:"/page/:pageNumber",component:Qe,exact:!0}),Object(ye.jsx)(oe.d,{path:"/search/:keyword",component:Qe,exact:!0})]})}),Object(ye.jsx)(Ne,{})]})};c.a.render(Object(ye.jsx)(s.a,{store:ce,children:Object(ye.jsx)(pt,{})}),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.e8245237.chunk.js.map